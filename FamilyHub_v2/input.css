@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 2. GLOBALES FUNDAMENT (CSS-Variablen) --- */
@layer base {
  :root {
    /* KERN-FARBPALETTE */
    --background-main: #0A0908;
    --accent-primary-rose: #A04668;
    --text-primary: #F2F4F3;
    --text-secondary: rgba(242, 244, 243, 0.65);
    
    /* GLAS & KARTEN */
    --background-glass: rgba(26, 26, 26, 0.4); 
    --border-glass: rgba(242, 244, 243, 0.1);   
    --hover-glass: rgba(255, 255, 255, 0.1); /* <--- HIER IST DER WERT */
    
    /* GRADIENTEN */
    --gradient-primary: linear-gradient(135deg, #A04668, #C25886);
    
    /* SCHATTEN & GLOW */
    --shadow-glow-rose: 0 0 18px rgba(160, 70, 104, 0.5); 
    --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.3);
    
    /* TYPOGRAFIE & RADien */
    --font-family: 'Inter', sans-serif;
    --radius-md: 12px;
    --radius-lg: 16px;

    /* TRANSITIONS */
    --transition-base: 0.25s ease;
  }

  body {
    background-color: var(--background-main);
    color: var(--text-primary);
    font-family: var(--font-family);
    -webkit-font-smoothing: antialiased;
  }
}

/* --- 4. Komponenten --- */
/*
  HINWEIS: Der @layer utilities Block wurde entfernt.
  Tailwind generiert diese Klassen jetzt automatisch
  aus der tailwind.config.js.
*/
@layer components {

  /* A. Sidebar / Navigation */
  .sidebar {
    @apply bg-background-glass border-r border-border-glass p-6 min-h-screen w-[260px] hidden lg:block;
  }
  .sidebar h1 {
    @apply text-2xl font-bold mb-8 text-gradient;
  }
  .nav-item-desktop {
    /* KORRIGIERT: Tailwind kann 'hover:bg-hover-glass' jetzt finden */
    @apply flex items-center gap-2 px-4 py-2 rounded-lg text-text-main hover:bg-hover-glass transition;
  }
  .nav-item-desktop.active {
    @apply bg-gradient-primary text-white font-semibold;
  }
  .nav-badge-premium {
    @apply ml-2 px-2 py-0.5 rounded-full text-xs bg-fuchsia-700/80 text-white;
  }

  /* B. Glass-Premium-Card (Basis) */
  .glass-premium {
    @apply bg-background-glass border border-border-glass rounded-xl shadow-card p-6;
    backdrop-filter: blur(18px);
  }

  /* C. Pinnwand */
  .pinnwand-column {
    @apply bg-background-glass border border-border-glass rounded-xl shadow-card p-4 min-w-[260px] flex-1;
    backdrop-filter: blur(10px);
    min-height: 300px;
  }
  .pinnwand-cards {
    @apply flex flex-col gap-4 min-h-[80px];
  }
  .pinnwand-card {
    @apply bg-white/10 border border-border-glass rounded-lg p-4 text-text-main shadow-card cursor-grab transition hover:bg-white/20;
    user-select: none;
  }
  .pinnwand-card.dragging {
    @apply opacity-50;
  }
  .pinnwand-card.invisible {
    @apply invisible;
  }
  .pinnwand-column.drag-over {
    @apply ring-2 ring-fuchsia-500;
  }

  /* D. Modal */
  .modal {
    @apply fixed inset-0 z-[2000] flex items-center justify-center p-4 opacity-0 transition-opacity duration-300 ease-out;
    background: rgba(0,0,0,0.85);
    backdrop-filter: blur(10px);
    pointer-events: none;
  }
  .modal.modal-open {
    @apply opacity-100;
    pointer-events: auto;
  }
  .modal-content {
    @apply bg-background-glass border border-border-glass rounded-xl shadow-card p-8 max-w-lg w-full opacity-0 -translate-y-4 transition-all duration-300 ease-out;
    backdrop-filter: blur(25px);
  }
  .modal.modal-open .modal-content {
    @apply opacity-100 translate-y-0;
  }

  /* E. Buttons */
  .btn-premium {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 border-none rounded-lg font-semibold cursor-pointer text-text-main bg-gradient-primary shadow-card transition;
  }
  .btn-premium:hover {
    @apply -translate-y-0.5;
    box-shadow: var(--shadow-glow-rose), 0 12px 40px rgba(160, 70, 104, 0.5);
  }
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium cursor-pointer bg-background-glass border border-border-glass text-text-main transition;
  }
  .btn-secondary:hover {
    @apply -translate-y-0.5;
    background: var(--hover-glass); /* <-- Dies ist reines CSS, kein @apply */
    border-color: var(--accent-primary-rose);
  }
  .btn-filter {
    @apply px-4 py-1.5 rounded-full font-medium border border-border-glass text-text-main bg-background-glass transition;
  }
  .btn-filter.active, .btn-filter:active {
    @apply bg-gradient-primary text-white border-transparent shadow-glow-rose;
  }
  .btn-loading {
    @apply relative opacity-80 cursor-not-allowed;
  }
  .btn-loading .spinner {
    @apply absolute w-5 h-5 border-2 border-white/30 border-t-white rounded-full;
    animation: spin 1s ease-in-out infinite;
  }

  /* F. Formulare */
  .form-input {
    @apply w-full px-4 py-2.5 bg-background-glass border border-border-glass rounded-lg text-text-main text-base transition;
  }
  .form-input:focus {
    @apply outline-none;
    border-color: var(--accent-primary-rose);
    box-shadow: 0 0 0 3px rgba(160, 70, 104, 0.25);
  }

  /* G. Benachrichtigungen */
  .notification {
    @apply fixed top-5 right-5 z-[9999] px-5 py-4 rounded-lg text-white font-semibold shadow-card;
    transform: translateX(120%);
    opacity: 0;
    transition: all 0.5s ease-out;
  }
  .notification.show {
    transform: translateX(0);
    opacity: 1;
  }
  .notification.fade-out {
    transform: translateX(120%);
    opacity: 0;
  }
  .notification.success { background: linear-gradient(135deg, #10B981, #10B981); }
  .notification.error { background: linear-gradient(135deg, #EF4444, #EF4444); }
  .notification.info { background: var(--gradient-primary); }

  /* H. Spinner */
  .spinner {
    @apply inline-block w-5 h-5 border-2 border-white/30 border-t-white rounded-full;
    animation: spin 1s ease-in-out infinite;
  }

  /* I. Galerie */
  .gallery-album-card {
    @apply glass-premium p-4 md:p-6;
  }
  .gallery-album-header {
    @apply text-lg font-semibold text-text-main mb-4 pb-2 border-b border-border-glass;
  }
  .gallery-album-grid {
    @apply grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 md:gap-4;
  }
  .gallery-media-item {
    @apply relative aspect-square rounded-lg overflow-hidden bg-background-glass border border-border-glass cursor-pointer transition-transform duration-200 hover:scale-105;
  }
  .gallery-media-item img,
  .gallery-media-item video {
    @apply w-full h-full object-cover;
  }
  .gallery-video-badge {
    @apply absolute bottom-2 right-2 w-6 h-6 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center;
  }
  .skeleton-album-card {
    @apply glass-premium p-4 md:p-6;
  }
  .skeleton-album-header {
    @apply h-7 w-1/3 bg-background-glass rounded-md mb-4 pb-2;
  }
  .skeleton-media-item {
    @apply aspect-square rounded-lg bg-background-glass;
  }

 /* J. Kalender */
  .calendar-day {
    @apply relative aspect-square p-2 bg-background-glass border border-border-glass rounded-md transition-all hover:bg-hover-glass cursor-pointer;
    min-height: 100px;
  }
  .calendar-day-empty {
    @apply bg-transparent border-border-glass/30 opacity-50 cursor-default;
  }
  .day-number {
    @apply text-xs font-semibold text-text-secondary;
  }
  .calendar-day.today {
    @apply border-accent-primary-rose;
  }
  .calendar-day.today .day-number {
    @apply text-accent-primary-rose;
  }
  .calendar-event-badge {
    @apply block w-full text-left text-xs font-medium text-white rounded px-1.5 py-0.5 mt-1 truncate;
    background-color: var(--accent-primary-rose);
  }
  .agenda-item {
    @apply flex items-center gap-4 p-3 rounded-lg hover:bg-hover-glass cursor-pointer transition-colors;
  }
  .agenda-date-box {
    @apply flex flex-col items-center justify-center w-12 h-12 rounded-lg bg-background-glass border border-border-glass font-bold;
  }
  .agenda-date-box .month {
    @apply text-xs text-accent-primary-rose;
  }
  .agenda-date-box .day {
    @apply text-lg text-text-main -mt-1;
  }
  .agenda-info .title {
    @apply font-semibold text-text-main;
  }
  .agenda-info .time {
    @apply text-sm text-text-secondary;
  }
}

/* --- 5. Animationen --- */
@keyframes spin {
  to { transform: rotate(360deg); }
}